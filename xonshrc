# https://github.com/ninjaaron/xonsh-quickstart
$AUTO_CD = True
#PROMPT = "#> "
$PROMPT = "{env_name}{BOLD_BLUE} {cwd}{branch_color}{curr_branch: {}}{RESET} {BOLD_BLUE}{prompt_end}{RESET} "
$SHELL_TYPE = 'prompt_toolkit'
# $UPDATE_COMPLETIONS_ON_KEYPRESS = True
$SUPPRESS_BRANCH_TIMEOUT_MESSAGE = True

$XONSH_SHOW_TRACEBACK = True

r"""
completions from history (ghost text) can be selectd using either the
right arrow key or Ctrl-e.

FIXME job-control problems (Ctrl-z Ctrl-\ ... see
https://github.com/xonsh/xonsh/issues/1103
and https://xon.sh/tutorial.html?highlight=pause
"""
aliases['dotf'] = ('cd', '~/gitrepos/dotfiles')
aliases['gr'] = ('cd', '~/gitrepos')
aliases['gs'] = ('git', 'status')
aliases['gg'] = ('git', 'grep')
aliases['gd'] = ('git', 'diff')
aliases['gpl'] = ('git', 'pull')
aliases['gpr'] = ('git', 'pull', '--rebase')
aliases['gps'] = ('git', 'push')
aliases['src'] = aliases['reload_xonshrc'] = ("source", "~/.xonshrc")
# TODO does not work
aliases['dnu'] = "sudo aptitude update && sudo aptitude upgrade"
# TODO does not work
aliases['gk'] = "gitk --all $* &"
aliases['ll'] = "ls -ahl --color | more"

# intall fzf-widgets from github
# git clone https://github.com/laloch/xontrib-fzf-widgets
# pip install -e .
xontrib load fzf-widgets
from prompt_toolkit.keys import Keys
$fzf_history_binding = Keys.ControlR
$fzf_ssh_binding = Keys.ControlS
$fzf_file_binding = Keys.ControlT
